{% extends 'business/businessBase.html' %}
{% load assets %}
{% block content%}
<script type="text/javascript">
    $(document).ready(function(){
        //dash cart conversion
        $dashCartConversion = new Array();
//       cartData =  new Array();
//       orderData = new Array();
        $cartData =  [];
{% autoescape off %}
    {% for key,value in car_to_go.items %}
        $cartData.push([Date.UTC({{key.year}}, {{key.month}}-1, {{key.day}}),{{value}} ]);
    {% endfor %}
        $cartData = $cartData.sort(function(a,b){
  // Turn your strings into dates, and then subtract them
  // to get a value that is either negative, positive, or zero.
  return new Date(b[0]) - new Date(a[0]);
});
        $orderData = []
    {% for key,value in buy_to_go.items %}
        $orderData.push([Date.UTC({{key.year}}, {{key.month}}-1, {{key.day}}),{{value}} ]);
    {% endfor %}
        $orderData = $orderData.sort(function(a,b){
  // Turn your strings into dates, and then subtract them
  // to get a value that is either negative, positive, or zero.
  return new Date(b[0]) - new Date(a[0]);
});
{% endautoescape %}
/*        for(var x=1;x<=31;x++){
            $dashCartConversion.push(x);
            $cartData.push(Math.floor((Math.random() * 20) + 20));
            $orderData.push(Math.floor((Math.random() * 20) + 20));
        }*/

        $visitData = [];
    {% for key,value in visit_to_go.items %}
        $visitData.push([Date.UTC({{key.year}}, {{key.month}}-1, {{key.day}}),{{value}} ]);
    {% endfor %}
        $visitData = $visitData.sort(function(a,b){
  // Turn your strings into dates, and then subtract them
  // to get a value that is either negative, positive, or zero.
  return new Date(b[0]) - new Date(a[0]);
});


/*        //pageViews
        $dashPageViewsDays = new Array();
        $dashPageViews = new Array();
        for(var x=1;x<=31;x++){
            $dashPageViewsDays.push(x);
            $dashPageViews.push(Math.floor((Math.random() * 10) + 1));
        }*/
    })
</script>
<script src="{% version 'js/dashboardHighcharts.js' %}"></script>
<div id="dashCartConversion" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<div id="dashPageViews" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
{% endblock content %}
